<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Caption Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='./styles.css') }}">
</head>
<body>
    <div class="container">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
          <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-image-alt rounded border border-light p-1" viewBox="0 0 16 16">
                <path d="M7 2.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zm4.225 4.053a.5.5 0 0 0-.577.093l-3.71 4.71-2.66-2.772a.5.5 0 0 0-.63.062L.002 13v2a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4.5l-4.777-3.947z"/>
            </svg>
            <span class="fs-4 p-1">Image Caption Generator</span>
          </a>
        </header>
    </div>

    <div class="container col-xxl-8 px-4 py-5">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
          <div class="col-10 col-sm-8 col-lg-6">
            {% if img %}
            <img src={{img}} class="figure-img img-fluid rounded shadow mb-5 bg-body-tertiary rounded" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
            {% else %}
            <p class="font-weight-light text-center">Image will render here...</p>
            {% endif %}
          </div>
          <div class="col-lg-6">
            <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">Upload your Image</h1>
            <p class="lead">Experience image descriptions generated by our advanced image caption generator model to enhance your visual content.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start fade-in-text">
                {% if not img or not vimg %}
                <form action="{{ url_for('upload_file') }}" enctype="multipart/form-data" method="POST">
                    <div class="input-group">
                        <input name = "img" type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                        <input class="btn btn-primary" type="submit"/>
                    </div>
                </form>
                {% else %}
                <p class="lead"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill b-1" viewBox="0 0 16 16">
                  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                </svg> Caption Generated Below </p>
                {% endif %}
            </div>
          </div>
        </div>
    </div>

    <div class="container my-5">
        <div class="p-5 text-center bg-body-tertiary rounded-3">
          <h1 class="text-body-emphasis">Your Caption</h1>
          <blockquote class="blockquote">
            <p class="lead font-italic-weight-light">
                {% if img %}
                " {{cap}} "
                {% else %}
                Loading...
                {% endif %}
            </p>
          </blockquote>
        </div>
      </div>

    <div class="container">
        <footer class="py-3 my-4">
          <ul class="nav justify-content-center border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">ICG</a></li>
          </ul>
          <p class="text-center text-body-secondary">Developed using Visual Studio Code</p>
        </footer>
      </div>
    
</body>
</html>